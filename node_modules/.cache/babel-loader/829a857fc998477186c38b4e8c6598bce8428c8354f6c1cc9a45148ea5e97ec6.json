{"ast":null,"code":"var _jsxFileName = \"/Users/hyunjunekim/Documents/GitHub/moment4u/src/pages/CreateDiaryPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport '../styles/global.css';\nimport { useNavigate } from 'react-router-dom';\nimport StoryGrid from '../components/StoryGrid';\nimport { uploadImages, getAllStories, deleteStory, getImages, analyzeImagesSequentially, generateStory, createStory } from '../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CreateDiaryPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [showPopup, setShowPopup] = useState(false);\n  const [isFading, setIsFading] = useState(false);\n  const [stories, setStories] = useState([]);\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadedImages, setUploadedImages] = useState([]);\n  const [combinedDescription, setCombinedDescription] = useState('');\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [isGeneratingStory, setIsGeneratingStory] = useState(false);\n  const [generatedStory, setGeneratedStory] = useState(null);\n  const fileInputRef = useRef(null);\n  const [isDeleteMode, setIsDeleteMode] = useState(false);\n  const [selectedStories, setSelectedStories] = useState(new Set());\n  useEffect(() => {\n    fetchStories();\n    fetchImages();\n  }, []);\n  const fetchStories = async () => {\n    try {\n      const fetchedStories = await getAllStories();\n      setStories(fetchedStories);\n    } catch (error) {\n      console.error('Failed to fetch stories:', error);\n    }\n  };\n  const fetchImages = async () => {\n    try {\n      const images = await getImages();\n      setUploadedImages(images);\n      console.log('Fetched images:', images);\n    } catch (error) {\n      console.error('Failed to fetch images:', error);\n    }\n  };\n  useEffect(() => {\n    let fadeTimer;\n    let hideTimer;\n    if (showPopup) {\n      // Start fade out after 1.7 seconds\n      fadeTimer = setTimeout(() => {\n        setIsFading(true);\n      }, 1700);\n\n      // Hide popup after fade out animation (2 seconds + 0.3 seconds for fade out)\n      hideTimer = setTimeout(() => {\n        setShowPopup(false);\n        setIsFading(false);\n      }, 2000);\n    }\n    return () => {\n      clearTimeout(fadeTimer);\n      clearTimeout(hideTimer);\n    };\n  }, [showPopup]);\n  const handleCreateStory = () => {\n    var _fileInputRef$current;\n    (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n  };\n  const handleFileSelect = async event => {\n    const files = event.target.files;\n    if (!files || files.length === 0) return;\n    try {\n      setIsUploading(true);\n      const uploadedImages = await uploadImages(Array.from(files));\n      console.log('Successfully uploaded images:', uploadedImages);\n      setUploadedImages(uploadedImages);\n\n      // Start analyzing images\n      setIsAnalyzing(true);\n      const description = await analyzeImagesSequentially(uploadedImages);\n      setCombinedDescription(description);\n      setIsAnalyzing(false);\n\n      // Generate story\n      setIsGeneratingStory(true);\n      const storyResult = await generateStory(description);\n      setGeneratedStory(storyResult);\n      setIsGeneratingStory(false);\n\n      // Save the story\n      if (storyResult.title && storyResult.story && uploadedImages.length > 0) {\n        const imageUrls = uploadedImages.map(img => img.image_path);\n        const storyId = uploadedImages[0].story_id;\n        await createStory(storyResult.title, storyResult.story, imageUrls, storyId);\n        console.log('Story saved successfully!');\n      }\n    } catch (error) {\n      console.error('Failed to generate story:', error);\n      // Handle error appropriately\n    } finally {\n      setIsUploading(false);\n      if (event.target) {\n        event.target.value = ''; // Reset file input\n      }\n    }\n  };\n  const handleDeleteStory = async storyId => {\n    try {\n      await deleteStory(storyId);\n      setStories(prev => prev.filter(story => story.id !== storyId));\n    } catch (error) {\n      console.error('Failed to delete story:', error);\n      alert('Failed to delete story. Please try again.');\n    }\n  };\n  const handleStorySelect = storyId => {\n    setSelectedStories(prev => {\n      const newSelected = new Set(prev);\n      if (newSelected.has(storyId)) {\n        newSelected.delete(storyId);\n      } else {\n        newSelected.add(storyId);\n      }\n      return newSelected;\n    });\n  };\n  const handleDeleteClick = () => {\n    if (isDeleteMode) {\n      // If already in delete mode, perform deletion\n      if (selectedStories.size > 0) {\n        const confirmDelete = window.confirm(`Are you sure you want to delete ${selectedStories.size} selected ${selectedStories.size === 1 ? 'story' : 'stories'}?`);\n        if (confirmDelete) {\n          selectedStories.forEach(async storyId => {\n            try {\n              await deleteStory(storyId);\n              // After successful deletion, you might want to refresh the stories list\n              // or remove the deleted story from the current list\n            } catch (error) {\n              console.error('Error deleting story:', error);\n              alert('Failed to delete story. Please try again.');\n            }\n          });\n          setSelectedStories(new Set());\n        }\n      }\n      setIsDeleteMode(false);\n    } else {\n      // Enter delete mode\n      setIsDeleteMode(true);\n    }\n  };\n  const renderDescription = () => {\n    if (isAnalyzing) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Analyzing images...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 14\n      }, this);\n    }\n    if (isGeneratingStory) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Generating story...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [combinedDescription && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Image Analysis:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: combinedDescription\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this), generatedStory && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [generatedStory.title && /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            color: '#FFB6C1',\n            marginTop: '20px',\n            marginBottom: '10px',\n            fontSize: '24px'\n          },\n          children: generatedStory.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: '#87CEEB',\n            marginTop: '20px'\n          },\n          children: \"Generated Story:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#FFB6C1',\n            whiteSpace: 'pre-wrap',\n            lineHeight: '1.6',\n            marginTop: '10px'\n          },\n          children: generatedStory.story\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"link\", {\n      href: \"https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap\",\n      rel: \"stylesheet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        minHeight: '100vh',\n        width: '100%',\n        background: 'black',\n        color: 'white',\n        position: 'relative',\n        overflow: 'auto',\n        padding: '1rem',\n        boxSizing: 'border-box'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          fontSize: 'clamp(2rem, 5vw, 3.5rem)',\n          fontWeight: 'bold',\n          margin: '1rem 0 3rem 0',\n          fontFamily: \"'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif\",\n          display: 'flex',\n          gap: '15px',\n          textAlign: 'center',\n          flexWrap: 'wrap',\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#87CEEB',\n            textShadow: `\n              0 0 1px #87CEEB,\n              0 0 2px #87CEEB,\n              0 0 21px #87CEEB,\n              0 0 30px #00BFFF,\n              0 0 50px #00BFFF\n            `\n          },\n          children: \"Story\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: 'white',\n            textShadow: `\n              0 0 1px #fff,\n              0 0 2px #fff,\n              0 0 21px #fff,\n              0 0 30px #fff,\n              0 0 50px #fff\n            `\n          },\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          width: '100%',\n          maxWidth: '1200px',\n          margin: '0 auto',\n          padding: '0',\n          position: 'relative',\n          flexDirection: window.innerWidth < 768 ? 'column' : 'row',\n          gap: '1rem',\n          boxSizing: 'border-box'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: window.innerWidth < 768 ? '100%' : '140px',\n            marginRight: window.innerWidth < 768 ? '0' : '1rem',\n            display: 'flex',\n            flexDirection: window.innerWidth < 768 ? 'row' : 'column',\n            gap: '1rem',\n            alignSelf: 'flex-start',\n            position: window.innerWidth < 768 ? 'relative' : 'sticky',\n            top: '2rem',\n            flexWrap: window.innerWidth < 768 ? 'wrap' : 'nowrap',\n            justifyContent: window.innerWidth < 768 ? 'center' : 'flex-start',\n            boxSizing: 'border-box',\n            zIndex: 2 // Ensure buttons stay above content\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/'),\n            style: {\n              padding: '0.6rem 1.2rem',\n              background: 'rgba(255, 192, 203, 0.15)',\n              color: '#ff69b4',\n              border: '2px solid #ff69b4',\n              borderRadius: '10px',\n              fontSize: '1.2rem',\n              fontWeight: '500',\n              cursor: 'pointer',\n              transition: 'all 0.3s ease',\n              boxShadow: `\n                  0 0 2px #ff69b4,\n                  0 0 4px #ff69b4,\n                  0 0 6px #ff1493\n                `,\n              textShadow: `\n                  0 0 1px #ff69b4,\n                  0 0 2px #ff1493\n                `,\n              fontFamily: 'Quicksand, sans-serif',\n              letterSpacing: '0.5px',\n              width: '100%'\n            },\n            onMouseOver: e => {\n              e.currentTarget.style.boxShadow = `\n                  0 0 3px #ff69b4,\n                  0 0 6px #ff69b4,\n                  0 0 9px #ff1493\n                `;\n              e.currentTarget.style.textShadow = `\n                  0 0 2px #ff69b4,\n                  0 0 4px #ff1493\n                `;\n              e.currentTarget.style.transform = 'scale(1.05)';\n              e.currentTarget.style.background = 'rgba(255, 192, 203, 0.25)';\n              e.currentTarget.style.letterSpacing = '1px';\n            },\n            onMouseOut: e => {\n              e.currentTarget.style.boxShadow = `\n                  0 0 2px #ff69b4,\n                  0 0 4px #ff69b4,\n                  0 0 6px #ff1493\n                `;\n              e.currentTarget.style.textShadow = `\n                  0 0 1px #ff69b4,\n                  0 0 2px #ff1493\n                `;\n              e.currentTarget.style.transform = 'scale(1)';\n              e.currentTarget.style.background = 'rgba(255, 192, 203, 0.15)';\n              e.currentTarget.style.letterSpacing = '0.5px';\n            },\n            children: \"Main Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowPopup(true),\n            style: {\n              padding: '0.6rem 1.2rem',\n              background: 'rgba(0, 191, 255, 0.15)',\n              color: '#00BFFF',\n              border: '2px solid #00BFFF',\n              borderRadius: '10px',\n              fontSize: '1.2rem',\n              fontWeight: '500',\n              cursor: 'pointer',\n              transition: 'all 0.3s ease',\n              boxShadow: `\n                  0 0 2px #00BFFF,\n                  0 0 4px #00BFFF,\n                  0 0 6px #1E90FF\n                `,\n              textShadow: `\n                  0 0 1px #00BFFF,\n                  0 0 2px #1E90FF\n                `,\n              fontFamily: 'Quicksand, sans-serif',\n              letterSpacing: '0.5px',\n              width: '100%'\n            },\n            onMouseOver: e => {\n              e.currentTarget.style.boxShadow = `\n                  0 0 3px #00BFFF,\n                  0 0 6px #00BFFF,\n                  0 0 9px #1E90FF\n                `;\n              e.currentTarget.style.textShadow = `\n                  0 0 2px #00BFFF,\n                  0 0 4px #1E90FF\n                `;\n              e.currentTarget.style.transform = 'scale(1.05)';\n              e.currentTarget.style.background = 'rgba(0, 191, 255, 0.25)';\n              e.currentTarget.style.letterSpacing = '1px';\n            },\n            onMouseOut: e => {\n              e.currentTarget.style.boxShadow = `\n                  0 0 2px #00BFFF,\n                  0 0 4px #00BFFF,\n                  0 0 6px #1E90FF\n                `;\n              e.currentTarget.style.textShadow = `\n                  0 0 1px #00BFFF,\n                  0 0 2px #1E90FF\n                `;\n              e.currentTarget.style.transform = 'scale(1)';\n              e.currentTarget.style.background = 'rgba(0, 191, 255, 0.15)';\n              e.currentTarget.style.letterSpacing = '0.5px';\n            },\n            children: \"Language\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCreateStory,\n            style: {\n              padding: '0.6rem 1.2rem',\n              background: 'rgba(57, 255, 20, 0.15)',\n              color: '#39FF14',\n              border: '2px solid #39FF14',\n              borderRadius: '10px',\n              fontSize: '1.2rem',\n              fontWeight: '500',\n              cursor: isUploading ? 'not-allowed' : 'pointer',\n              transition: 'all 0.3s ease',\n              boxShadow: `\n                  0 0 2px #39FF14,\n                  0 0 4px #39FF14,\n                  0 0 6px #32CD32\n                `,\n              textShadow: `\n                  0 0 1px #39FF14,\n                  0 0 2px #32CD32\n                `,\n              fontFamily: 'Quicksand, sans-serif',\n              letterSpacing: '0.5px',\n              opacity: isUploading ? 0.7 : 1,\n              width: '100%'\n            },\n            disabled: isUploading,\n            onMouseOver: e => {\n              if (!isUploading) {\n                e.currentTarget.style.boxShadow = `\n                    0 0 3px #39FF14,\n                    0 0 6px #39FF14,\n                    0 0 9px #32CD32\n                  `;\n                e.currentTarget.style.textShadow = `\n                    0 0 2px #39FF14,\n                    0 0 4px #32CD32\n                  `;\n                e.currentTarget.style.transform = 'scale(1.05)';\n                e.currentTarget.style.background = 'rgba(57, 255, 20, 0.25)';\n                e.currentTarget.style.letterSpacing = '1px';\n              }\n            },\n            onMouseOut: e => {\n              if (!isUploading) {\n                e.currentTarget.style.boxShadow = `\n                    0 0 2px #39FF14,\n                    0 0 4px #39FF14,\n                    0 0 6px #32CD32\n                  `;\n                e.currentTarget.style.textShadow = `\n                    0 0 1px #39FF14,\n                    0 0 2px #32CD32\n                  `;\n                e.currentTarget.style.transform = 'scale(1)';\n                e.currentTarget.style.background = 'rgba(57, 255, 20, 0.15)';\n                e.currentTarget.style.letterSpacing = '0.5px';\n              }\n            },\n            children: isUploading ? 'Creating...' : 'Create Story'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            ref: fileInputRef,\n            onChange: handleFileSelect,\n            multiple: true,\n            accept: \"image/*\",\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleDeleteClick,\n            style: {\n              padding: '0.6rem 1.2rem',\n              background: isDeleteMode ? 'rgba(255, 68, 68, 0.25)' : 'rgba(255, 68, 68, 0.15)',\n              color: '#ff4444',\n              border: `2px solid ${isDeleteMode ? '#ff6666' : '#ff4444'}`,\n              borderRadius: '10px',\n              fontSize: '1.2rem',\n              fontWeight: '500',\n              cursor: 'pointer',\n              transition: 'all 0.3s ease',\n              boxShadow: isDeleteMode ? '0 0 10px rgba(255, 68, 68, 0.5)' : '0 0 2px #ff4444, 0 0 4px #ff4444, 0 0 6px #ff0000',\n              textShadow: `\n                  0 0 1px #ff4444,\n                  0 0 2px #ff0000\n                `,\n              fontFamily: 'Quicksand, sans-serif',\n              letterSpacing: '0.5px',\n              width: '100%'\n            },\n            onMouseOver: e => {\n              if (!isDeleteMode) {\n                e.currentTarget.style.boxShadow = `\n                    0 0 3px #ff4444,\n                    0 0 6px #ff4444,\n                    0 0 9px #ff0000\n                  `;\n                e.currentTarget.style.textShadow = `\n                    0 0 2px #ff4444,\n                    0 0 4px #ff0000\n                  `;\n                e.currentTarget.style.transform = 'scale(1.05)';\n                e.currentTarget.style.background = 'rgba(255, 68, 68, 0.25)';\n                e.currentTarget.style.letterSpacing = '1px';\n              }\n            },\n            onMouseOut: e => {\n              if (!isDeleteMode) {\n                e.currentTarget.style.boxShadow = `\n                    0 0 2px #ff4444,\n                    0 0 4px #ff4444,\n                    0 0 6px #ff0000\n                  `;\n                e.currentTarget.style.textShadow = `\n                    0 0 1px #ff4444,\n                    0 0 2px #ff0000\n                  `;\n                e.currentTarget.style.transform = 'scale(1)';\n                e.currentTarget.style.background = 'rgba(255, 68, 68, 0.15)';\n                e.currentTarget.style.letterSpacing = '0.5px';\n              }\n            },\n            children: isDeleteMode ? 'Confirm Delete' : 'Delete Story'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: '1',\n            maxWidth: window.innerWidth < 768 ? '100%' : '800px',\n            minHeight: '60vh',\n            maxHeight: window.innerWidth < 768 ? '100%' : '75vh',\n            borderRadius: '20px',\n            padding: '1.5rem',\n            boxShadow: `\n              0 0 2px #fff,\n              0 0 4px #fff,\n              0 0 8px #fff,\n              0 0 16px #fff,\n              0 0 32px #fff\n            `,\n            border: '2px solid white',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            marginBottom: '2rem',\n            position: 'relative',\n            overflowY: 'auto',\n            overflowX: 'hidden',\n            scrollBehavior: 'smooth',\n            backgroundColor: 'rgba(0, 0, 0, 0.3)',\n            boxSizing: 'border-box',\n            width: '100%',\n            zIndex: 1\n          },\n          children: [showPopup && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              top: '50%',\n              left: '50%',\n              transform: 'translate(-50%, -50%)',\n              background: 'rgba(0, 0, 0, 0.9)',\n              padding: '1.5rem 2.5rem',\n              borderRadius: '15px',\n              border: '2px solid #FFFF00',\n              color: '#FFFF00',\n              fontSize: '1.2rem',\n              fontFamily: 'Quicksand, sans-serif',\n              zIndex: 1000,\n              boxShadow: `\n                    0 0 5px #FFFF00,\n                    0 0 10px #FFFF00,\n                    0 0 15px #FFD700\n                  `,\n              textShadow: `\n                    0 0 1px #FFFF00,\n                    0 0 2px #FFD700\n                  `,\n              animation: isFading ? 'popupFadeOut 0.3s ease-in-out forwards' : 'popupFadeIn 0.3s ease-in-out',\n              textAlign: 'center'\n            },\n            onClick: () => setShowPopup(false),\n            children: \"We only support Korean at this time.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 15\n          }, this), stories.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              padding: '2rem',\n              color: 'rgba(255, 255, 255, 0.7)',\n              fontSize: '1.2rem',\n              fontFamily: 'Quicksand, sans-serif'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                color: '#FFB6C1',\n                marginBottom: '1rem',\n                textShadow: '0 0 10px rgba(255, 182, 193, 0.5)'\n              },\n              children: \"No stories yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Create your first story by clicking the \\\"Create Story\\\" button!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(StoryGrid, {\n              stories: stories,\n              isDeleteMode: isDeleteMode,\n              onStorySelect: handleStorySelect\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 17\n            }, this), renderDescription()]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n          @keyframes popupFadeIn {\n            from {\n              opacity: 0;\n              transform: translate(-50%, -60%);\n            }\n            to {\n              opacity: 1;\n              transform: translate(-50%, -50%);\n            }\n          }\n          @keyframes popupFadeOut {\n            from {\n              opacity: 1;\n              transform: translate(-50%, -50%);\n            }\n            to {\n              opacity: 0;\n              transform: translate(-50%, -40%);\n            }\n          }\n\n          /* Custom scrollbar styles */\n          div::-webkit-scrollbar {\n            width: 8px;\n          }\n\n          div::-webkit-scrollbar-track {\n            background: rgba(255, 255, 255, 0.1);\n            border-radius: 4px;\n          }\n\n          div::-webkit-scrollbar-thumb {\n            background: rgba(255, 255, 255, 0.3);\n            border-radius: 4px;\n          }\n\n          div::-webkit-scrollbar-thumb:hover {\n            background: rgba(255, 255, 255, 0.5);\n          }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 631,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(CreateDiaryPage, \"Czvnaw9+nqT4j7hxrf5OwFg47Zs=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateDiaryPage;\nexport default CreateDiaryPage;\nvar _c;\n$RefreshReg$(_c, \"CreateDiaryPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","StoryGrid","uploadImages","getAllStories","deleteStory","getImages","analyzeImagesSequentially","generateStory","createStory","jsxDEV","_jsxDEV","Fragment","_Fragment","CreateDiaryPage","_s","navigate","showPopup","setShowPopup","isFading","setIsFading","stories","setStories","isUploading","setIsUploading","uploadedImages","setUploadedImages","combinedDescription","setCombinedDescription","isAnalyzing","setIsAnalyzing","isGeneratingStory","setIsGeneratingStory","generatedStory","setGeneratedStory","fileInputRef","isDeleteMode","setIsDeleteMode","selectedStories","setSelectedStories","Set","fetchStories","fetchImages","fetchedStories","error","console","images","log","fadeTimer","hideTimer","setTimeout","clearTimeout","handleCreateStory","_fileInputRef$current","current","click","handleFileSelect","event","files","target","length","Array","from","description","storyResult","title","story","imageUrls","map","img","image_path","storyId","story_id","value","handleDeleteStory","prev","filter","id","alert","handleStorySelect","newSelected","has","delete","add","handleDeleteClick","size","confirmDelete","window","confirm","forEach","renderDescription","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginBottom","color","marginTop","fontSize","whiteSpace","lineHeight","href","rel","display","flexDirection","alignItems","minHeight","width","background","position","overflow","padding","boxSizing","fontWeight","margin","fontFamily","gap","textAlign","flexWrap","justifyContent","textShadow","maxWidth","innerWidth","marginRight","alignSelf","top","zIndex","onClick","border","borderRadius","cursor","transition","boxShadow","letterSpacing","onMouseOver","e","currentTarget","transform","onMouseOut","opacity","disabled","type","ref","onChange","multiple","accept","flex","maxHeight","overflowY","overflowX","scrollBehavior","backgroundColor","left","animation","onStorySelect","_c","$RefreshReg$"],"sources":["/Users/hyunjunekim/Documents/GitHub/moment4u/src/pages/CreateDiaryPage.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport '../styles/global.css';\nimport { useNavigate } from 'react-router-dom';\nimport StoryGrid from '../components/StoryGrid';\nimport { \n  uploadImages, \n  getAllStories, \n  deleteStory, \n  Story, \n  ImageResponse, \n  getImages, \n  analyzeImagesSequentially,\n  generateStory,\n  StoryGenerationResponse,\n  createStory \n} from '../services/api';\n\nconst CreateDiaryPage: React.FC = () => {\n  const navigate = useNavigate();\n  const [showPopup, setShowPopup] = useState(false);\n  const [isFading, setIsFading] = useState(false);\n  const [stories, setStories] = useState<Story[]>([]);\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadedImages, setUploadedImages] = useState<ImageResponse[]>([]);\n  const [combinedDescription, setCombinedDescription] = useState<string>('');\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [isGeneratingStory, setIsGeneratingStory] = useState(false);\n  const [generatedStory, setGeneratedStory] = useState<StoryGenerationResponse | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [isDeleteMode, setIsDeleteMode] = useState(false);\n  const [selectedStories, setSelectedStories] = useState<Set<string>>(new Set());\n\n  useEffect(() => {\n    fetchStories();\n    fetchImages();\n  }, []);\n\n  const fetchStories = async () => {\n    try {\n      const fetchedStories = await getAllStories();\n      setStories(fetchedStories);\n    } catch (error) {\n      console.error('Failed to fetch stories:', error);\n    }\n  };\n\n  const fetchImages = async () => {\n    try {\n      const images = await getImages();\n      setUploadedImages(images);\n      console.log('Fetched images:', images);\n    } catch (error) {\n      console.error('Failed to fetch images:', error);\n    }\n  };\n\n  useEffect(() => {\n    let fadeTimer: NodeJS.Timeout;\n    let hideTimer: NodeJS.Timeout;\n    \n    if (showPopup) {\n      // Start fade out after 1.7 seconds\n      fadeTimer = setTimeout(() => {\n        setIsFading(true);\n      }, 1700);\n\n      // Hide popup after fade out animation (2 seconds + 0.3 seconds for fade out)\n      hideTimer = setTimeout(() => {\n        setShowPopup(false);\n        setIsFading(false);\n      }, 2000);\n    }\n\n    return () => {\n      clearTimeout(fadeTimer);\n      clearTimeout(hideTimer);\n    };\n  }, [showPopup]);\n\n  const handleCreateStory = () => {\n    fileInputRef.current?.click();\n  };\n\n  const handleFileSelect = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = event.target.files;\n    if (!files || files.length === 0) return;\n\n    try {\n      setIsUploading(true);\n      const uploadedImages = await uploadImages(Array.from(files));\n      console.log('Successfully uploaded images:', uploadedImages);\n      setUploadedImages(uploadedImages);\n\n      // Start analyzing images\n      setIsAnalyzing(true);\n      const description = await analyzeImagesSequentially(uploadedImages);\n      setCombinedDescription(description);\n      setIsAnalyzing(false);\n\n      // Generate story\n      setIsGeneratingStory(true);\n      const storyResult = await generateStory(description);\n      setGeneratedStory(storyResult);\n      setIsGeneratingStory(false);\n\n      // Save the story\n      if (storyResult.title && storyResult.story && uploadedImages.length > 0) {\n        const imageUrls = uploadedImages.map(img => img.image_path);\n        const storyId = uploadedImages[0].story_id;\n        await createStory(storyResult.title, storyResult.story, imageUrls, storyId);\n        console.log('Story saved successfully!');\n      }\n    } catch (error) {\n      console.error('Failed to generate story:', error);\n      // Handle error appropriately\n    } finally {\n      setIsUploading(false);\n      if (event.target) {\n        event.target.value = ''; // Reset file input\n      }\n    }\n  };\n\n  const handleDeleteStory = async (storyId: string) => {\n    try {\n      await deleteStory(storyId);\n      setStories(prev => prev.filter(story => story.id !== storyId));\n    } catch (error) {\n      console.error('Failed to delete story:', error);\n      alert('Failed to delete story. Please try again.');\n    }\n  };\n\n  const handleStorySelect = (storyId: string) => {\n    setSelectedStories(prev => {\n      const newSelected = new Set(prev);\n      if (newSelected.has(storyId)) {\n        newSelected.delete(storyId);\n      } else {\n        newSelected.add(storyId);\n      }\n      return newSelected;\n    });\n  };\n\n  const handleDeleteClick = () => {\n    if (isDeleteMode) {\n      // If already in delete mode, perform deletion\n      if (selectedStories.size > 0) {\n        const confirmDelete = window.confirm(\n          `Are you sure you want to delete ${selectedStories.size} selected ${\n            selectedStories.size === 1 ? 'story' : 'stories'\n          }?`\n        );\n        \n        if (confirmDelete) {\n          selectedStories.forEach(async (storyId) => {\n            try {\n              await deleteStory(storyId);\n              // After successful deletion, you might want to refresh the stories list\n              // or remove the deleted story from the current list\n            } catch (error) {\n              console.error('Error deleting story:', error);\n              alert('Failed to delete story. Please try again.');\n            }\n          });\n          setSelectedStories(new Set());\n        }\n      }\n      setIsDeleteMode(false);\n    } else {\n      // Enter delete mode\n      setIsDeleteMode(true);\n    }\n  };\n\n  const renderDescription = () => {\n    if (isAnalyzing) {\n      return <p>Analyzing images...</p>;\n    }\n    if (isGeneratingStory) {\n      return <p>Generating story...</p>;\n    }\n    return (\n      <>\n        {combinedDescription && (\n          <div style={{ marginBottom: '20px' }}>\n            <h3>Image Analysis:</h3>\n            <p>{combinedDescription}</p>\n          </div>\n        )}\n        {generatedStory && (\n          <div>\n            {generatedStory.title && (\n              <h2 style={{ \n                color: '#FFB6C1',\n                marginTop: '20px',\n                marginBottom: '10px',\n                fontSize: '24px'\n              }}>\n                {generatedStory.title}\n              </h2>\n            )}\n            <h3 style={{ \n              color: '#87CEEB',\n              marginTop: '20px'\n            }}>Generated Story:</h3>\n            <p style={{\n              color: '#FFB6C1',\n              whiteSpace: 'pre-wrap',\n              lineHeight: '1.6',\n              marginTop: '10px'\n            }}>{generatedStory.story}</p>\n          </div>\n        )}\n      </>\n    );\n  };\n\n  return (\n    <>\n      <link href=\"https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap\" rel=\"stylesheet\" />\n      <div style={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        minHeight: '100vh',\n        width: '100%',\n        background: 'black',\n        color: 'white',\n        position: 'relative',\n        overflow: 'auto',\n        padding: '1rem',\n        boxSizing: 'border-box',\n      }}>\n        <h1 style={{\n          fontSize: 'clamp(2rem, 5vw, 3.5rem)',\n          fontWeight: 'bold',\n          margin: '1rem 0 3rem 0',\n          fontFamily: \"'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif\",\n          display: 'flex',\n          gap: '15px',\n          textAlign: 'center',\n          flexWrap: 'wrap',\n          justifyContent: 'center',\n        }}>\n          <span style={{\n            color: '#87CEEB',\n            textShadow: `\n              0 0 1px #87CEEB,\n              0 0 2px #87CEEB,\n              0 0 21px #87CEEB,\n              0 0 30px #00BFFF,\n              0 0 50px #00BFFF\n            `,\n          }}>\n            Story\n          </span>\n          <span style={{\n            color: 'white',\n            textShadow: `\n              0 0 1px #fff,\n              0 0 2px #fff,\n              0 0 21px #fff,\n              0 0 30px #fff,\n              0 0 50px #fff\n            `,\n          }}>\n            Dashboard\n          </span>\n        </h1>\n\n        <div style={{\n          display: 'flex',\n          justifyContent: 'center',\n          width: '100%',\n          maxWidth: '1200px',\n          margin: '0 auto',\n          padding: '0',\n          position: 'relative',\n          flexDirection: window.innerWidth < 768 ? 'column' : 'row',\n          gap: '1rem',\n          boxSizing: 'border-box',\n        }}>\n          {/* Button Container */}\n          <div style={{\n            width: window.innerWidth < 768 ? '100%' : '140px',\n            marginRight: window.innerWidth < 768 ? '0' : '1rem',\n            display: 'flex',\n            flexDirection: window.innerWidth < 768 ? 'row' : 'column',\n            gap: '1rem',\n            alignSelf: 'flex-start',\n            position: window.innerWidth < 768 ? 'relative' : 'sticky',\n            top: '2rem',\n            flexWrap: window.innerWidth < 768 ? 'wrap' : 'nowrap',\n            justifyContent: window.innerWidth < 768 ? 'center' : 'flex-start',\n            boxSizing: 'border-box',\n            zIndex: 2, // Ensure buttons stay above content\n          }}>\n            <button\n              onClick={() => navigate('/')}\n              style={{\n                padding: '0.6rem 1.2rem',\n                background: 'rgba(255, 192, 203, 0.15)',\n                color: '#ff69b4',\n                border: '2px solid #ff69b4',\n                borderRadius: '10px',\n                fontSize: '1.2rem',\n                fontWeight: '500',\n                cursor: 'pointer',\n                transition: 'all 0.3s ease',\n                boxShadow: `\n                  0 0 2px #ff69b4,\n                  0 0 4px #ff69b4,\n                  0 0 6px #ff1493\n                `,\n                textShadow: `\n                  0 0 1px #ff69b4,\n                  0 0 2px #ff1493\n                `,\n                fontFamily: 'Quicksand, sans-serif',\n                letterSpacing: '0.5px',\n                width: '100%',\n              }}\n              onMouseOver={(e) => {\n                e.currentTarget.style.boxShadow = `\n                  0 0 3px #ff69b4,\n                  0 0 6px #ff69b4,\n                  0 0 9px #ff1493\n                `;\n                e.currentTarget.style.textShadow = `\n                  0 0 2px #ff69b4,\n                  0 0 4px #ff1493\n                `;\n                e.currentTarget.style.transform = 'scale(1.05)';\n                e.currentTarget.style.background = 'rgba(255, 192, 203, 0.25)';\n                e.currentTarget.style.letterSpacing = '1px';\n              }}\n              onMouseOut={(e) => {\n                e.currentTarget.style.boxShadow = `\n                  0 0 2px #ff69b4,\n                  0 0 4px #ff69b4,\n                  0 0 6px #ff1493\n                `;\n                e.currentTarget.style.textShadow = `\n                  0 0 1px #ff69b4,\n                  0 0 2px #ff1493\n                `;\n                e.currentTarget.style.transform = 'scale(1)';\n                e.currentTarget.style.background = 'rgba(255, 192, 203, 0.15)';\n                e.currentTarget.style.letterSpacing = '0.5px';\n              }}\n            >\n              Main Page\n            </button>\n            <button\n              onClick={() => setShowPopup(true)}\n              style={{\n                padding: '0.6rem 1.2rem',\n                background: 'rgba(0, 191, 255, 0.15)',\n                color: '#00BFFF',\n                border: '2px solid #00BFFF',\n                borderRadius: '10px',\n                fontSize: '1.2rem',\n                fontWeight: '500',\n                cursor: 'pointer',\n                transition: 'all 0.3s ease',\n                boxShadow: `\n                  0 0 2px #00BFFF,\n                  0 0 4px #00BFFF,\n                  0 0 6px #1E90FF\n                `,\n                textShadow: `\n                  0 0 1px #00BFFF,\n                  0 0 2px #1E90FF\n                `,\n                fontFamily: 'Quicksand, sans-serif',\n                letterSpacing: '0.5px',\n                width: '100%',\n              }}\n              onMouseOver={(e) => {\n                e.currentTarget.style.boxShadow = `\n                  0 0 3px #00BFFF,\n                  0 0 6px #00BFFF,\n                  0 0 9px #1E90FF\n                `;\n                e.currentTarget.style.textShadow = `\n                  0 0 2px #00BFFF,\n                  0 0 4px #1E90FF\n                `;\n                e.currentTarget.style.transform = 'scale(1.05)';\n                e.currentTarget.style.background = 'rgba(0, 191, 255, 0.25)';\n                e.currentTarget.style.letterSpacing = '1px';\n              }}\n              onMouseOut={(e) => {\n                e.currentTarget.style.boxShadow = `\n                  0 0 2px #00BFFF,\n                  0 0 4px #00BFFF,\n                  0 0 6px #1E90FF\n                `;\n                e.currentTarget.style.textShadow = `\n                  0 0 1px #00BFFF,\n                  0 0 2px #1E90FF\n                `;\n                e.currentTarget.style.transform = 'scale(1)';\n                e.currentTarget.style.background = 'rgba(0, 191, 255, 0.15)';\n                e.currentTarget.style.letterSpacing = '0.5px';\n              }}\n            >\n              Language\n            </button>\n            <button\n              onClick={handleCreateStory}\n              style={{\n                padding: '0.6rem 1.2rem',\n                background: 'rgba(57, 255, 20, 0.15)',\n                color: '#39FF14',\n                border: '2px solid #39FF14',\n                borderRadius: '10px',\n                fontSize: '1.2rem',\n                fontWeight: '500',\n                cursor: isUploading ? 'not-allowed' : 'pointer',\n                transition: 'all 0.3s ease',\n                boxShadow: `\n                  0 0 2px #39FF14,\n                  0 0 4px #39FF14,\n                  0 0 6px #32CD32\n                `,\n                textShadow: `\n                  0 0 1px #39FF14,\n                  0 0 2px #32CD32\n                `,\n                fontFamily: 'Quicksand, sans-serif',\n                letterSpacing: '0.5px',\n                opacity: isUploading ? 0.7 : 1,\n                width: '100%',\n              }}\n              disabled={isUploading}\n              onMouseOver={(e) => {\n                if (!isUploading) {\n                  e.currentTarget.style.boxShadow = `\n                    0 0 3px #39FF14,\n                    0 0 6px #39FF14,\n                    0 0 9px #32CD32\n                  `;\n                  e.currentTarget.style.textShadow = `\n                    0 0 2px #39FF14,\n                    0 0 4px #32CD32\n                  `;\n                  e.currentTarget.style.transform = 'scale(1.05)';\n                  e.currentTarget.style.background = 'rgba(57, 255, 20, 0.25)';\n                  e.currentTarget.style.letterSpacing = '1px';\n                }\n              }}\n              onMouseOut={(e) => {\n                if (!isUploading) {\n                  e.currentTarget.style.boxShadow = `\n                    0 0 2px #39FF14,\n                    0 0 4px #39FF14,\n                    0 0 6px #32CD32\n                  `;\n                  e.currentTarget.style.textShadow = `\n                    0 0 1px #39FF14,\n                    0 0 2px #32CD32\n                  `;\n                  e.currentTarget.style.transform = 'scale(1)';\n                  e.currentTarget.style.background = 'rgba(57, 255, 20, 0.15)';\n                  e.currentTarget.style.letterSpacing = '0.5px';\n                }\n              }}\n            >\n              {isUploading ? 'Creating...' : 'Create Story'}\n            </button>\n            <input\n              type=\"file\"\n              ref={fileInputRef}\n              onChange={handleFileSelect}\n              multiple\n              accept=\"image/*\"\n              style={{ display: 'none' }}\n            />\n            <button\n              onClick={handleDeleteClick}\n              style={{\n                padding: '0.6rem 1.2rem',\n                background: isDeleteMode ? 'rgba(255, 68, 68, 0.25)' : 'rgba(255, 68, 68, 0.15)',\n                color: '#ff4444',\n                border: `2px solid ${isDeleteMode ? '#ff6666' : '#ff4444'}`,\n                borderRadius: '10px',\n                fontSize: '1.2rem',\n                fontWeight: '500',\n                cursor: 'pointer',\n                transition: 'all 0.3s ease',\n                boxShadow: isDeleteMode ? \n                  '0 0 10px rgba(255, 68, 68, 0.5)' :\n                  '0 0 2px #ff4444, 0 0 4px #ff4444, 0 0 6px #ff0000',\n                textShadow: `\n                  0 0 1px #ff4444,\n                  0 0 2px #ff0000\n                `,\n                fontFamily: 'Quicksand, sans-serif',\n                letterSpacing: '0.5px',\n                width: '100%',\n              }}\n              onMouseOver={(e) => {\n                if (!isDeleteMode) {\n                  e.currentTarget.style.boxShadow = `\n                    0 0 3px #ff4444,\n                    0 0 6px #ff4444,\n                    0 0 9px #ff0000\n                  `;\n                  e.currentTarget.style.textShadow = `\n                    0 0 2px #ff4444,\n                    0 0 4px #ff0000\n                  `;\n                  e.currentTarget.style.transform = 'scale(1.05)';\n                  e.currentTarget.style.background = 'rgba(255, 68, 68, 0.25)';\n                  e.currentTarget.style.letterSpacing = '1px';\n                }\n              }}\n              onMouseOut={(e) => {\n                if (!isDeleteMode) {\n                  e.currentTarget.style.boxShadow = `\n                    0 0 2px #ff4444,\n                    0 0 4px #ff4444,\n                    0 0 6px #ff0000\n                  `;\n                  e.currentTarget.style.textShadow = `\n                    0 0 1px #ff4444,\n                    0 0 2px #ff0000\n                  `;\n                  e.currentTarget.style.transform = 'scale(1)';\n                  e.currentTarget.style.background = 'rgba(255, 68, 68, 0.15)';\n                  e.currentTarget.style.letterSpacing = '0.5px';\n                }\n              }}\n            >\n              {isDeleteMode ? 'Confirm Delete' : 'Delete Story'}\n            </button>\n          </div>\n\n          {/* Main Content Container */}\n          <div style={{\n            flex: '1',\n            maxWidth: window.innerWidth < 768 ? '100%' : '800px',\n            minHeight: '60vh',\n            maxHeight: window.innerWidth < 768 ? '100%' : '75vh',\n            borderRadius: '20px',\n            padding: '1.5rem',\n            boxShadow: `\n              0 0 2px #fff,\n              0 0 4px #fff,\n              0 0 8px #fff,\n              0 0 16px #fff,\n              0 0 32px #fff\n            `,\n            border: '2px solid white',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            marginBottom: '2rem',\n            position: 'relative',\n            overflowY: 'auto',\n            overflowX: 'hidden',\n            scrollBehavior: 'smooth',\n            backgroundColor: 'rgba(0, 0, 0, 0.3)',\n            boxSizing: 'border-box',\n            width: '100%',\n            zIndex: 1,\n          }}>\n            {showPopup && (\n              <div\n                style={{\n                  position: 'absolute',\n                  top: '50%',\n                  left: '50%',\n                  transform: 'translate(-50%, -50%)',\n                  background: 'rgba(0, 0, 0, 0.9)',\n                  padding: '1.5rem 2.5rem',\n                  borderRadius: '15px',\n                  border: '2px solid #FFFF00',\n                  color: '#FFFF00',\n                  fontSize: '1.2rem',\n                  fontFamily: 'Quicksand, sans-serif',\n                  zIndex: 1000,\n                  boxShadow: `\n                    0 0 5px #FFFF00,\n                    0 0 10px #FFFF00,\n                    0 0 15px #FFD700\n                  `,\n                  textShadow: `\n                    0 0 1px #FFFF00,\n                    0 0 2px #FFD700\n                  `,\n                  animation: isFading ? 'popupFadeOut 0.3s ease-in-out forwards' : 'popupFadeIn 0.3s ease-in-out',\n                  textAlign: 'center',\n                }}\n                onClick={() => setShowPopup(false)}\n              >\n                We only support Korean at this time.\n              </div>\n            )}\n            {stories.length === 0 ? (\n              <div style={{\n                textAlign: 'center',\n                padding: '2rem',\n                color: 'rgba(255, 255, 255, 0.7)',\n                fontSize: '1.2rem',\n                fontFamily: 'Quicksand, sans-serif'\n              }}>\n                <h3 style={{\n                  color: '#FFB6C1',\n                  marginBottom: '1rem',\n                  textShadow: '0 0 10px rgba(255, 182, 193, 0.5)'\n                }}>No stories yet</h3>\n                <p>Create your first story by clicking the \"Create Story\" button!</p>\n              </div>\n            ) : (\n              <>\n                <StoryGrid \n                  stories={stories}\n                  isDeleteMode={isDeleteMode}\n                  onStorySelect={handleStorySelect}\n                />\n                {renderDescription()}\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n      <style>\n        {`\n          @keyframes popupFadeIn {\n            from {\n              opacity: 0;\n              transform: translate(-50%, -60%);\n            }\n            to {\n              opacity: 1;\n              transform: translate(-50%, -50%);\n            }\n          }\n          @keyframes popupFadeOut {\n            from {\n              opacity: 1;\n              transform: translate(-50%, -50%);\n            }\n            to {\n              opacity: 0;\n              transform: translate(-50%, -40%);\n            }\n          }\n\n          /* Custom scrollbar styles */\n          div::-webkit-scrollbar {\n            width: 8px;\n          }\n\n          div::-webkit-scrollbar-track {\n            background: rgba(255, 255, 255, 0.1);\n            border-radius: 4px;\n          }\n\n          div::-webkit-scrollbar-thumb {\n            background: rgba(255, 255, 255, 0.3);\n            border-radius: 4px;\n          }\n\n          div::-webkit-scrollbar-thumb:hover {\n            background: rgba(255, 255, 255, 0.5);\n          }\n        `}\n      </style>\n    </>\n  );\n};\n\nexport default CreateDiaryPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}